<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="css/estilo.css" rel="stylesheet" type="text/css" />
    <link rel="icon" href="imagenes/BipBop.ico">

    <title>BipBop</title>

</head>



<body>
    <div class="container">

        <a href="index.html"><img id="logo" src="imagenes/BipBop.png" alt="Logo BipBop" /></a>
        <a a href="#openModal"><img id="perfil" src="imagenes/iconos/user-circle-regular.svg" alt="perfil" /></a>

        <div id="openModal" class="modalDialog">
            <div>
                <a href="#close" title="Close" class="close">X</a>
                <h2>Iniciar Sesión</h2>
                <input type="text" name="correo" id="is_correo" placeholder="Correo"></br>
                </br>
                <input type="password" name="contrasenia" id="is_pass" placeholder="Contraseña"></br>
                </br>
                </br>
                <a href="#openModal_2">Registrarse</a> | <button id="iniciarSesion" onclick="iniciarSesion()">Iniciar
                    Sesión</button>
            </div>
        </div>


        <div id="openModal_2" class="modalDialog">
            <div>
                <a href="#close" title="Close" class="close">X</a>
                <h2>Registrarse</h2>
                <input type="text" name="correo" id="r_correo" placeholder="Correo" onkeyup="validarEmail()"></br>
                <label id="errorCorreo" style="visibility: hidden;"></label>
                </br>
                <input type="password" name="contrasenia" id="r_pass" placeholder="Contraseña" onkeyup="validarContrasenia()"></br>
                <label id="errorPass" style="visibility: hidden;"></label>
                </br>
                <input type="password" name="contrasenia" id="confPass" placeholder="Confirmar contraseña" onkeyup="confirmarContrasenia()"></br>
                <label id="noCoincide" style="visibility: hidden;"></label>
                </br>
                </br>
                <a href="#openModal">Iniciar sesión</a> | <button id="Registrarse"
                    onclick="validarCampos()">Registrarse</button>
            </div>
        </div>


        <div class="busqueda">
            <img id="lupa" src="imagenes/iconos/search-solid.svg" alt="lupa" /><input type="text"
                placeholder="Buscar en todas las categorías" />
        </div>
        <div class="atributos">

            <div class="contenedor">
                <img src="imagenes/iconos/tv-solid.svg" alt="televisores" width="20px" height="20px">
                <label for="moviles">Televisores</label>
            </div>

            <div class="contenedor">
                <img src="imagenes/iconos/euro-sign-solid.svg" alt="precio" width="20px" height="20px">
                <label for="precio">Precio</label>
            </div>

            <div class="contenedor">
                <img src="imagenes/iconos/certificate-solid.svg" alt="estado_del_producto" width="20px" height="20px">
                <label for="estado_del_producto">Estado del producto</label>
            </div>

            <div class="contenedor">
                <img src="imagenes/iconos/map-marker-alt-solid.svg" alt="ubicacion" width="20px" height="20px">
                <label for="ubicacion">Ubicación</label>
            </div>
        </div>
            

        
        <section>
            <article id="articulos">

                
            </article>
        </section>

        <!--<aside>Aside</aside>-->

        <div class="pre_footer">
            <span style="color: pink;">Ciudades</span></br>
            Madrid, Barcelona, Valencia, Sevilla, Zaragoza, Málaga, Alicante, Bilbao, Valladolid, Móstoles,
            Alcalá de Henares, Gijón, A Coruña, Granada, Sabadell, Vigo, Getafe, Burgos, Leganés, Badalona,
            Palma de Mallorca, Murcia, Córdoba, Oviedo, Elche, Santander, Salamanca, L'Hospitalet de
            Llobregat, Girona, Tarragona, Pamplona, Almería, Donostia-San Sebastián, Las Palmas de Gran
            Canaria, ver todas las ciudades
        </div>

        <footer>

            <a href=""><img class="aplicacion" src="imagenes/iconos/apple-brands.svg" alt="Apple store" /></a><label>Apple
                store</label>
            <a href=""><img class="aplicacion" src="imagenes/iconos/android-brands.svg" alt="Google play" /></a><label>Google
                play</label>


            <a href=""><img class="redesSociales" src="imagenes/iconos/facebook-f-brands.svg" alt="Facebook" /></a>
            <a href=""><img class="redesSociales" src="imagenes/iconos/twitter-brands.svg" alt="Twitter" /></a>
            <a href=""><img class="redesSociales" src="imagenes/iconos/instagram-brands.svg" alt="Instagram" /></a>

        </footer>
    </div>
</body>

<script>

    function Mensaje(texto) {
        this.texto = texto;
    }

    function validarEmail() {
        var res = true;

        if (!document.getElementById("r_correo").value.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)) {
            this.texto = "El correo debe tener un formato válido,";
            document.getElementById("errorCorreo").innerHTML = this.texto;
            document.getElementById("errorCorreo").style.visibility = "visible";
            document.getElementById("errorCorreo").style.color = "red";
            res = false;
        } else {
            document.getElementById("errorCorreo").style.visibility = "hidden";
        }

        return res;

    }

    function validarContrasenia(){
        var res = true;

        if(!document.getElementById("r_pass").value.match(/^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{4,16}$/)){
            this.texto = "La contraseña debe tener al entre 4 y 16 caracteres, al menos un dígito, al menos una minúscula y al menos una mayúscula";
            document.getElementById("errorPass").innerHTML = this.texto;
            document.getElementById("errorPass").style.visibility = "visible";
            document.getElementById("errorPass").style.color = "red";
            res = false;
        }else{
            document.getElementById("errorPass").style.visibility = "hidden";
        }

        return res;
    }

    function confirmarContrasenia(){

        var res = true;

        if(document.getElementById("r_pass").value != document.getElementById("confPass").value) {
            this.texto = "Las contraseñas deben coincidir";
            document.getElementById("noCoincide").innerHTML = this.texto;
            document.getElementById("noCoincide").style.visibility = "visible";
            document.getElementById("noCoincide").style.color = "red";
            res = false;
        }else{
            document.getElementById("noCoincide").style.visibility = "hidden";
        }

        return res;

    }

    function validarCampos(){
        if(validarEmail() && validarContrasenia() && confirmarContrasenia()){
            alert("Usuario registrado correctamente");
            document.getElementById("openModal_2").style.display = "none";
        }
    }

    function arrayProductos(){
        var producto = new Array(3);
        producto[0] = "imagenes/productos/imgProducto.png";
        producto[1] = "Producto";
        producto[2] = "Descripción del producto";

        var filaProductos = new Array(6);
        filaProductos[0] = producto;
        filaProductos[1] = producto;
        filaProductos[2] = producto;
        filaProductos[3] = producto;
        filaProductos[4] = producto;
        filaProductos[5] = producto;

        var article = document.getElementById("articulos");

        var div = document.createElement("div");
        var div_att = document.createAttribute("class");
        div_att.value = "filaProductos";
        div.setAttributeNode(div_att);

        for(i=0; i< filaProductos.length; i++){
            console.log("vuelta " + i);
            var pd = document.createElement("div");
            var pd_att = document.createAttribute("class");
            pd_att.value = "producto";
            pd.setAttributeNode(pd_att);

            var link = document.createElement("a");
            link.href = filaProductos[i][1] + ".html";

            var figure = document.createElement("figure");
            
            var img = document.createElement("img");
            var img_att = document.createAttribute("id");
            img_att.value = "producto_" + i;
            img.setAttributeNode(img_att);

            img.src = filaProductos[i][0];
            img.style = "width: 100%;";

            link.appendChild(img);

            var titulo = document.createElement("figcaption");
            var titulo_att = document.createAttribute("class");
            titulo_att.value = "tituloProducto";
            titulo.setAttributeNode(titulo_att);
            var texto_titulo = document.createTextNode(filaProductos[i][1]);

            titulo.appendChild(texto_titulo);

            var desc = document.createElement("figcaption");
            var desc_att = document.createAttribute("class");
            desc_att.value = "descripcionProducto";
            desc.setAttributeNode(desc_att);
            var desc_titulo = document.createTextNode(filaProductos[i][2]);

            desc.appendChild(desc_titulo);

            figure.appendChild(link);
            figure.appendChild(titulo);
            figure.appendChild(desc);
            

            pd.appendChild(figure);

            div.appendChild(pd);

            /*var img = document.write("<img id=" + "producto_" + i + "src=\"" + filaProductos[i][0] + "\" style=\"width: 100%;\" />");
            var titulo = document.write("<figcaption class=\"tituloProducto\">" + filaProductos[i][1] + "</figcaption>");
            var descrp = document.write("<figcaption class=\"tituloProducto\">" + filaProductos[i][2] + "</figcaption>");

            document.write("</figure>");
            document.write("</div>");*/
            
        }

        article.appendChild(div);

                    

    }

    window.onload = function(){
        arrayProductos();
    }

</script>

</html>